---
title: Tracing Storage
description: Persist traces to SQLite or PostgreSQL for production-grade observability.
---

<h1 className="mt-4 text-3xl font-medium">
  <span className="text-primary">Tracing Storage</span>
</h1>
<h3 className="-mt-7 text-lg font-normal text-muted-foreground">
  Persist traces to SQLite or PostgreSQL for production-grade observability
</h3>

Tracing storage persists traces beyond program execution, enabling historical analysis, cost reporting, and production monitoring.

## Storage Options

Peargent provides five storage backends for traces:

### In-Memory (Default)
**Best for:** Development and testing. Zero setup, but data is lost on exit.

```python
from peargent.observability import enable_tracing
tracer = enable_tracing() # [!code highlight]
```

### File-Based Storage
**Best for:** Small-scale apps and debugging. Simple JSON files.

```python
from peargent.storage import File
tracer = enable_tracing(store_type=File(storage_dir="./traces")) # [!code highlight]
```

### SQLite Storage
**Best for:** Local production. Single-file database, fast queries.

```python
from peargent.storage import Sqlite
tracer = enable_tracing(store_type=Sqlite(connection_string="sqlite:///./traces.db")) # [!code highlight]
```

### PostgreSQL Storage
**Best for:** Multi-server production. Scalable and powerful.

```python
from peargent.storage import Postgresql
tracer = enable_tracing(
    store_type=Postgresql(connection_string="postgresql://user:pass@localhost/dbname") # [!code highlight]
)
```

### Redis Storage
**Best for:** High-speed caching and distributed systems.

```python
from peargent.storage import Redis
tracer = enable_tracing(
    store_type=Redis(host="localhost", port=6379, key_prefix="my_app") # [!code highlight]
)
```

## Storage Comparison

| Feature | In-Memory | File | SQLite | PostgreSQL | Redis |
|---------|-----------|------|--------|------------|-------|
| Persistence | ❌ | ✅ | ✅ | ✅ | ⚠️ Optional |
| Query Performance | Fastest | Slow | Fast | Fast | Fastest |
| Concurrent Access | ❌ | ❌ | ⚠️ Limited | ✅ Excellent | ✅ Excellent |
| Production Ready | ❌ | ❌ | ⚠️ Single-server | ✅ Yes | ✅ Yes |
| Setup Required | ❌ None | ❌ None | ❌ None | ✅ Server needed | ✅ Server needed |

## Custom Table Names

You can customize table names to avoid conflicts with your existing schema.

### SQLite & PostgreSQL

Use `table_prefix` to namespace your tables (creates `{prefix}_traces` and `{prefix}_spans`).

```python
tracer = enable_tracing(
    store_type=Sqlite(
        connection_string="sqlite:///./traces.db",
        table_prefix="my_app"
    )
)
```

### Redis

Use `key_prefix` to namespace your Redis keys (creates `{prefix}:traces:*`).

```python
tracer = enable_tracing(
    store_type=Redis(
        host="localhost",
        port=6379,
        key_prefix="my_app"
    )
)
```

## What's Next?

**<u>[Session and User Context](/docs/tracing-and-observability/session-context)</u>**
Learn how to tag traces with user and session IDs for better organization and analysis.
